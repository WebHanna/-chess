!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.n=t():e.n=t()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var l=i[n]={exports:{},id:n,loaded:!1};return e[n].call(l.exports,l,l.exports,t),l.loaded=!0,l.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var l=i(1),r=n(l);r.default.start()},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(2),a=n(u),o=i(4),s=n(o),f=function(){function e(){l(this,e),this.board=new a.default,this.defaultFiguresState=[{x:0,y:1,type:"Pawn",color:"white",id:1},{x:1,y:1,type:"Pawn",color:"white",id:2},{x:2,y:1,type:"Pawn",color:"white",id:3},{x:1,y:2,type:"Pawn",color:"black",id:4},{x:3,y:1,type:"Pawn",color:"white",id:5},{x:4,y:1,type:"Pawn",color:"white",id:6},{x:5,y:1,type:"Pawn",color:"white",id:7},{x:6,y:1,type:"Pawn",color:"white",id:8},{x:7,y:1,type:"Pawn",color:"white",id:9}]}return r(e,[{key:"start",value:function(){this.board.renderBoard(),this.setDefaultState()}},{key:"setDefaultState",value:function(){var e=this;this.defaultFiguresState.forEach(function(t){e.board.cells.forEach(function(e){e.forEach(function(e){e.x===t.x&&e.y===t.y&&e.setFigure(thi.getInitiallFigure(t))})})})}},{key:"getInitiallFigure",value:function(e){if("Pawn"===InitiallFigure.type)return new s.default(e.color,e.x,e.y,e.id)}},{key:"turnEnd",value:function(){this.board.cell.forEach(function(e){e.forEach(function(e){e.removeAvailable()})})}}]),e}(),c=new f;t.default=c},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(3),a=n(u),o=function(){function e(){l(this,e),this.cells=[],this.selectedFigure=null,this.element=null}return r(e,[{key:"renderBoard",value:function(){var e=document.getElementById("board");this.getCells(),this.cells.forEach(function(t){t.forEach(function(t){e.appendChild(t.element)})}),this.element=e}},{key:"getCells",value:function(){for(var e="white",t="black",i=[],n=0;n<8;n++)n%2===0?i.push(this.getRow(n,e,t)):i.push(this.getRow(n,t,e))}},{key:"getRow",value:function(e,t,i){for(var n=[],l=0;l<8;l++)l%2===0?n.push(new a.default(t,l,e)):n.push(new a.default(i,l,e))}}]),e}();t.default=o},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),u=i(1),a=n(u),o=function(){function e(t,i,n){l(this,e),this.color=t,this.x=i,this.y=n,this.figure=null,this.element=this.createCell(t),this.available=null}return r(e,[{key:"createCell",value:function(e){var t=document.createElement("div");return t.className="block "+e,t.dataset.x=this.x,t.dataset.y=this.y,t.style.left=70*this.x+"px",t.style.top=70*this.y+"px",t}},{key:"setFigure",value:function(e){this.figure=e,this.renderInitialFigure()}},{key:"setCellOnClick",value:function(e){var t=this;e.addEventListener("click",function(){a.default.selectedFigure&&a.default.selectedFigure.move(t),a.default.selectedFigure=null,a.default.turnEnd()})}},{key:"setFigureOnClick",value:function(){var e=this;this.figure.element.addEventListener("click",function(){e.isAvailable(e.figure)?e.beatFigure(e.figure):(a.default.turnEnd(),e.figure.searchNextAvailablePosition(a.default.board.cells),e.figure.nextAvailableCells.forEach(function(e){e.setAvailable()}),a.default.selectedFigure=e.figure)})}},{key:"renderInitialFigure",value:function(){var e=document.createElement("div");e.className="figure",e.style.backgroundPosition=this.figure.position,e.style.left=70*this.x+"px",e.style.top=70*this.y+"px",e.id=this.figure.id,this.figure.element=e,this.setFigureOnClick(),a.default.board.element.appendChild(this.figure.element)}},{key:"setAvaible",value:function(){this.element.classList.add("available"),this.available=!0}},{key:"removeAvaible",value:function(){this.element.classList.remove("available"),this.available=!1}},{key:"beatFigure",value:function(){this.figure.element.remove(),a.default.selectedFigure.move(this.figure),this.figure=a.default.selectedFigure,a.default.selectedFigure=null,a.default.turnEnd()}},{key:"isEmpty",value:function(){return!this.figure}},{key:"isAvailable",value:function(e){return a.default.board.cells[e.y][e.x].available}}]),e}();t.default=o},function(e,t){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function(){function e(t,n,l,r){i(this,e),this.id=r,this.type="Pawn",this.color=t,this.x=n,this.y=l,this.firstStep=!0,this.nextAvailableCells=null,this.element=null,this.position=this.getPosition()}return n(e,[{key:"getPosition",value:function(){return"white"===this.color?"-595px -116px":"-595px -19px"}},{key:"searchNextAvailablePosition",value:function(e){var t=this.forwardCell(e),i=this.getFirstStep(e),n=this.toBeat(e),l=[];t.isEmpty()&&(l.push(t),this.firstStep&&l.push(i)),n.forEach(function(e){e.isEmpty()||l.push(e)}),this.nextAvailableCells=l}},{key:"getFirstStep",value:function(e){return"white"===this.color?e[this.y+2][this.x]:e[this.y-2][this.x]}},{key:"forwardCell",value:function(e){return"white"===this.color?e[this.y+1][this.x]:e[this.y-1][this.x]}},{key:"toBeat",value:function(e){var t=[];return"white"===this.color?(t.push(e[this.y+1][this.x+1]),t.push(e[this.y+1][this.x-1])):(t.push(e[this.y-1][this.x+1]),t.push(e[this.y-1][this.x-1])),t}},{key:"move",value:function(e){this.firstStep=!1,console.log(e.x,e.y),this.x=e.x,this.y=e.y,this.element.style.left=70*e.x+"px",this.element.style.top=70*e.y+"px"}}]),e}();t.default=l}])});
//# sourceMappingURL=proj.min.js.map
